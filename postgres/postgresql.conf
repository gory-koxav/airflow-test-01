# ./postgres/postgresql.conf

# ------------------------------
# FILE LOCATIONS
# ------------------------------
hba_file = '/etc/postgresql/pg_hba.conf'

# ------------------------------
# CONNECTIONS AND AUTHENTICATION
# ------------------------------
listen_addresses = '*'         # 모든 IP에서 접속 허용 (단, pg_hba.conf에서 통제)
max_connections = 200          # Airflow Worker 증가 대비 (기존 Command 내용)

# ------------------------------
# MEMORY TUNING (기본값은 너무 낮음)
# ------------------------------
# 서버 사양에 맞춰 조절 필요 (보통 전체 RAM의 25~40%)
shared_buffers = 256MB         
work_mem = 4MB                 

# ------------------------------
# WRITE AHEAD LOG (WAL)
# ------------------------------
# 데이터 무결성 및 성능 관련 설정
wal_level = replica

# ------------------------------
# LOGGING
# ------------------------------
log_timezone = 'Asia/Seoul'
timezone = 'Asia/Seoul'