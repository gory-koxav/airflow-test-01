# ============================================
# PROD Environment - Worker Configuration
# ============================================
# For production: workers connect via external network to main server
# Using main server's IP address and exposed host ports

# Main Server IP Address
# IMPORTANT: Set this to your main server's actual IP address!
MAIN_SERVER_IP=10.0.0.1

# Connection to Main Server (External network)
# In prod, workers connect to main server via IP address
POSTGRES_HOST=10.0.0.1
REDIS_HOST=10.0.0.1

# Host exposed ports (NOT internal container ports!)
# Workers connect via network to the exposed host ports
POSTGRES_PORT=55432
REDIS_PORT=56379

# Worker Identification (unique name for this worker)
# IMPORTANT: Each worker server should have a unique name!
WORKER_NAME=worker-prod-01
WORKER_CLASS=sync

# Worker Performance Configuration
WORKER_CONCURRENCY=16
WORKER_AUTOSCALE=32,16
WORKER_MAX_TASKS_PER_CHILD=100
WORKER_PREFETCH_MULTIPLIER=1

# Resource Limits (adjust based on prod server specs)
WORKER_CPU_LIMIT=8
WORKER_CPU_RESERVATION=4
WORKER_MEMORY_LIMIT=16G
WORKER_MEMORY_RESERVATION=8G

# Monitoring ports
NODE_EXPORTER_PORT=9100
CADVISOR_PORT=8081
